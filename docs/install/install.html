<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
	<meta charset="utf-8"/>
</head>
<body>

<h1 id="installation">Installation</h1>

<p>Dédalo is used to manage cultural properties as archeological, ethnological, documentary heritage, memory and oral history. Dédalo is a client - server application, before install it, you will need an internet server with a Linux SO, with static ip, and a stable internet connection.</p>

<p>In this installation manual you will see how you can prepare your server before install Dédalo.</p>

<h2 id="1.minimumandrecommendedserver.">1. Minimum and recommended server.</h2>

<p>Dédalo uses a NoSQL architecture, an abstraction model controlled by his ontology that requires intense calculations in real time. The data format is not defined in the database and is calculated in the execution time. Besides, Dédalo creates audiovisual editions in real time when the users and visitors search in the inventory. All of these features make intense use of the processor and RAM.</p>

<p>For the space to store all data and media, it depends on every project. Before buying or renting a server, think about the amount of data of your project and future growth. It&#8217;s very normal that the projects manage thousands or hundred thousand records and images, pdfs or audiovisual files and millions of data relations and editions. Cultural catalogues managed with Dédalo stored all data around the cultural properties and it requires a large RAID system.</p>

<p>Recomennded server:</p>

<p>OS:</p>

<ul>
<li>Minimal: Ubuntu 20.04 LTS/ Rocky 8 / RedHat 8</li>
<li>Recommended: Ubuntu 22.04 LTS / Rocky 9 / RedHat 9</li>
</ul>

<blockquote>
<p>Note: if you want, you can use other OS as MacOs or Windows, their could be fine to develop or test it, but we do not recommended these options for production.</p>
</blockquote>

<p>Hardware:</p>

<ul>
<li>Processor: 8 processors with 3+GHZ</li>
<li>RAM: minimal 16GB / recommended: 32 GB</li>
<li>HD for OS: 100GB+ for the system in RAID 10 (SSD)</li>
<li>HD for data: 1TB+ for the data in RAD 10 (if is possible SSD)</li>
</ul>

<p>Network:</p>

<ul>
<li>Ip stable</li>
<li>minimal: 500mb/s / recommended: 1gpbs</li>
<li>domain</li>
<li>SSL certificated</li>
</ul>

<p>Backup:</p>

<ul>
<li>2 full copies (2 retention copies)</li>
</ul>

<blockquote>
<p>Note: We recommend using an external backup system, in another building of the server facilities to preserve data from physical problems such as fire or flood.
Dédalo creates a backup of the database automatically, it prepares the backup file to be copied to the backup system, but, for the media files you will need to configure your server to copy these files manually.</p>
</blockquote>

<h2 id="2.installationoptions.">2. Installation options.</h2>

<p>Instead install you can use our &#8220;ready to use&#8221; virtual machine with all installed and configurated.</p>

<h3 id="2.1.ready-to-usevirtualmachineforv6">2.1. Ready-to-use Virtual Machine for V6</h3>

<p>Then, you can use our V6 ready-to-use Virtual Machine for development:</p>

<p><a href="https://dedalo.dev/v6" target="_blank">Dedalo V5</a></p>

<blockquote>
<p>Note: we do not recommended use this machine as production system, it could be fine to develop or learn about Dédalo. If you want to use it you will need change all passwords because are public.</p>
</blockquote>

<h3 id="2.2.video-guideforv6installation">2.2. Video-guide for V6 installation</h3>

<p>Then, you can follow the steps in the V6 installation video:</p>

<p><a href="https://dedalo.dev/v5_install" target="_blank">Dedalo V6 installation video on Ubuntu</a></p>

<h3 id="2.3.manualinstallation">2.3. Manual installation</h3>

<p>Then, install Dédalo manually, commands are Ubuntu 22.04 (only as references):</p>

<ol>
<li><p>Install Ubuntu and all dependeces.</p></li>
<li><p> Install PHP</p>

<pre><code>```shell
apt install php8.2 php8.2-cli php8.2-common php8.2-mysql php8.2-pgsql php8.2-gd php8.2-mbstring php8.2-xml php8.2-pspell php8.2-tidy php8.2-bcmath php8.2-imap php8.2-soap php8.2-opcache php8.2-fpm php8.2-zip php8.2-curl
```

&gt; Note: the minimal version for PHP is 8.1 so you could change previous command for it.
</code></pre>

<ol>
<li><p>Install Apache and activate the mods</p>

<pre><code class="shell">apt install apache2 libapache2-mod-fcgid
</code></pre>

<p>Active modules</p>

<pre><code class="shell">a2enconf php8.2-fpm
a2enmod actions fcgid alias proxy_fcgi
a2enmod ssl
a2enmod headers
a2enmod http2
a2enmod rewrite
</code></pre></li>
</ol></li>
<li><p> Install PostgreSQL</p>

<pre><code>Get the oficial repository:

```shell
sh -c 'echo &quot;deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main&quot; &gt; /etc/apt/sources.list.d/pgdg.list'
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
```

Install it.

```shell
apt-get update
apt-get -y install postgresql
```
</code></pre></li>
<li><p> Install MariaDB or MySQL</p>

<pre><code>Get the repository of the LTS version

```shell
apt-get install apt-transport-https curl
curl -o /etc/apt/trusted.gpg.d/mariadb_release_signing_key.asc 'https://mariadb.org/mariadb_release_signing_key.asc'
sh -c &quot;echo 'deb https://mirrors.n-ix.net/mariadb/repo/10.11/ubuntu jammy main' &gt;&gt;/etc/apt/sources.list&quot;
```

Install it.

```shell
apt-get update
apt-get install mariadb-server
```

Run the secure installation to remove default configuration.

```shell
mysql_secure_installation
```
</code></pre></li>
<li><p> Install ffmpeg</p>

<pre><code>```shell
apt install ffmpeg
```
</code></pre></li>
<li><p> Install ImageMagick</p>

<pre><code>```shell
apt install imagemagick
```
</code></pre></li>
<li><p> Install PDF tools</p>

<pre><code>```shell
apt install poppler-utils
```

&gt; Optional: if you want you can use xpdf utils instead poppler.
&gt;

```shell
wget https://dl.xpdfreader.com/xpdf-tools-linux-4.04.tar.gz
tar xpvf  xpdf-tools-linux-4.03.tar.gz
mv pdf* /usr/local/bin
```
</code></pre></li>
<li><p>Download Dédalo and place it under the httpdocs directory of the web server.</p>

<pre><code class="shell">wget https://github.com/renderpci/dedalo/archive/master.zip
</code></pre>

<p>Unzip and rename it</p>

<pre><code class="shell">unzip master.zip
mv dedalo-master dedalo
</code></pre></li>
<li><p>Create a database in PostgreSQL named <code>dedalo_xx</code> (you can change the <code>xx</code> as you please).
Enter into psql
```shell
su - postgres
psql</p>

<pre><code>Create a Dédalo user:
</code></pre>

<pre><code class="sql">CREATE USER dedalo_user PASSWORD 'My_super_Secret_pw';
</code></pre>

<p>Create a Dédalo database and comment it:</p>

<pre><code class="sql">CREATE DATABASE dedalo_xxx
WITH ENCODING='UTF8'
OWNER=dedalo_user
CONNECTION LIMIT=-1
TABLESPACE=pg_default;

COMMENT ON DATABASE dedalo_xxx
IS 'Dédalo: Cultural Heritage and Memory management system';
</code></pre></li>
<li><p><p>Rename <code>sample.config.php</code> to <code>config.php</code>.</p>

<pre><code class="shell">cd [...]/dedalo/config/
mv sample.config.php config.php
</code></pre></p></li>
<li><p>Modify <code>[...]/dedalo/config/config.php</code> as you need. Usually, this involves the <code>DEDALO_ENTITY</code> string and the OS library paths.</p></li>
<li><p><p>Rename <code>sample.config_db.php</code> to <code>config_db.php</code>.</p>

<pre><code class="shell">cd [...]/dedalo/config/
mv sample.config_db.php config_db.php
</code></pre></p></li>
<li><p>Modify <code>[...]/dedalo/config/config_db.php</code> with your database configuration.</p></li>
<li><p><p>Rename <code>sample.config_core.php</code> to <code>config_core.php</code>.</p>

<pre><code class="shell">cd [...]/dedalo/config/
mv sample.config_core.php config_core.php
</code></pre></p></li>
<li><p><p>Rename <code>[...]/dedalo/config/sample.config_areas.php</code> to <code>[...]/dedalo/config/config_areas.php</code>.</p>

<pre><code class="shell">cd [...]/dedalo/config/
mv sample.config_core.php config_core.php
</code></pre></p></li>
<li><p>Open Dédalo in the browser.</p></li>
<li><p>Follow the instructions.</p></li>
<li><p>Once the installation process is done, log in and head to the Development Area. There, update the Ontology and register all tools.</p></li>
<li><p>Create an admin user.</p></li>
<li><p>Log out and log in with the admin user.</p></li>
<li><p>Create Users and Projects as you need.</p></li>
</ol>

</body>
</html>

