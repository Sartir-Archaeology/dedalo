/**
* TOOL_INDEXATION
*
* Loaded on tool init
*/

// imports
@import (once) '../../../core/page/css/layout/vars';

// local vars
@tool_color: #23bcc7;

// column_id (section_tool list)
.column_section_id > .button_edit.list_tool_indexation {

	&:hover {
		background-color: @tool_color;
	}
	>.icon {
		-webkit-mask-image: url('../img/icon.svg');
		mask-image: url('../img/icon.svg');
	}
}

// wrapper_tool
.wrapper_tool.tool_indexation {

	.spinner {
		border-top-color: @tool_color;
	}

	>.tool_header {
		background-color: @tool_color;
		position: relative;

		@media screen and (max-width: @width_break_point_0) {
			flex-wrap: wrap;
		}

		>.tool_buttons_container {

			@media screen and (max-width: @width_break_point_0) {
				flex-wrap: wrap;
				margin-top: 1rem;
			}

			>div, >button {
				margin: 0rem;
				margin-left: 0.5rem;
				margin-right: 0rem;
				min-height: 2rem;

				@media screen and (max-width: @width_break_point_0) {
					margin-bottom: 1rem;
					flex: 1 0 auto;
				}
			}

			>.related_list_container {

			}

			>.viewer_selector_container {
				margin-left: 1rem;
			}

			.container_label {
				margin-bottom: 0.5rem;
			}

			select.selector {
				opacity: 1;
				padding-left: 0.33rem;
				padding-right: 1.33rem;
				padding-top: 0px;
				padding-bottom: 0px;
				background-color: @color_light;
				border-radius: 3px;
				margin-right: 0px;
				max-width: 20rem;
				min-width: 7rem;
				text-overflow: ellipsis;
				overflow: hidden;
				line-height: 1.5rem;
				height: 1.5rem;

				@media screen and (max-width: @width_break_point_0) {

				}
			}

			// component lang selector
			>.lang_selector {
				display: flex;
				align-items: center;
				margin-left: 0.75rem;
				margin-right: 0.12rem;

				@media screen and (max-width: @width_break_point_0) {
					padding-right: 0.5rem;
				}

				>.lang_label {
					padding-right: 0.33rem;
				}
			}

			// buttons of tools (tool print, tool time machine..)
			>.tool_button {

				>.icon {
					height: 1rem;
					margin-right: 0.33rem;
				}
			}

			.wrapper_component {
				background-color: transparent;
				margin-left: 2.5rem;

				&.active {
					background-color: unset;
					box-shadow: unset;
					color: unset;
				}
				.content_data .content_value input[type="checkbox"] {
					margin-right: 0.2em;
				}
				.buttons_container {
					display: none !important;;
				}
				>.label, label {
					color: @color_white;
				}
			}
		}
	}//end >.tool_header

	>.content_data {
		width: 100%;
		height: calc(100vh - 4.8rem);
		overflow: hidden;
		display: flex;
		padding: 0px;

		@media screen and (max-width: @width_break_point_0) {
			flex-wrap: wrap;
		}

		>.left_container, >.right_container {
			display: grid;
			padding: 1rem;
			padding-bottom: 0px;
			height: 100%;
			min-height: 700px;
			overflow: scroll;
		}

		// left block (thesaurus)
		>.left_container {
			width: 45%;
			overflow: auto;
			padding-bottom: 5rem;
			@media screen and (max-width: @width_break_point_0) {
				width: 100%;
				width: calc(100vw - 1rem);
				padding-left: 0px;
				height: auto;
			}

			// thesaurus
			>.area_thesaurus {
				padding: 0px;
			}

			// thesaurus
			>.section {
				padding: 0px;
			}

			// component_av
			>.wrapper_component {
				>.buttons_container {
					top: 0;
					z-index: 2;
					border-radius: 0;
				}
			}
		}

		// right block
		>.right_container {
			grid-template-rows: 55vh 3rem auto;
			width: 55%;

			@media screen and (max-width: @width_break_point_0) {
				width: 100%;
				width: calc(100vw - 1rem);
				padding-left: 0px;
				height: auto;
				grid-template-rows: 55vh 6rem auto;
			}

			// text area
			>.transcription_component_container {
				margin-bottom: 0.5rem;
				position: relative;
				flex: 1 0 50%;

				// lang selector
				>.selector {
					position: absolute;
					top: 1px;
					right: 0.5rem;
					padding: 0px;
					padding-right: 1.2rem;
					padding-left: 0.5rem;
					width: auto;
					margin-bottom: 0.5rem;
					font-size: 0.96rem;
					height: 1.85rem;
					z-index: 2;
					outline: none;
				}

				>.wrapper_component {
					height: 100%;

					>.buttons_container {
						top: 0;
						z-index: 4;
						border-radius: 0;
					}

					>.content_data {
						height: 100%!important;
					}
				}
			}

			// selected tag info line
			>.info_container {
				min-height: 3rem;
				display: flex;

				@media screen and (max-width: @width_break_point_0) {
					flex-wrap: wrap;
				}

				>.tag_info {
					flex: 0 0 60%;
					@media screen and (max-width: @width_break_point_0) {
						flex: 0 0 100%;
						padding: 0px;
					}
					padding-right: 1rem;

					>.tag_info_container {
						display: flex;
						padding: 0.25em;
						padding-left: 1rem;
						background-color: transparent;
						align-items: center;
						margin: 0px;
						border-top-left-radius: 20px;
						border-bottom-left-radius: 20px;
						transition: all 0.5s ease;

						>* {
							display: flex;
						}

						>.fragment_id_info {
							font-family: "Courier New",Courier,monospace;
							color: @color_black;
							font-size: 1.2rem;

							>span {
								margin-right: 0.5rem;
							}

							.fragment_id_tag_id {

							}
						}

						.fn_background(@bg_color) {
							background-image: radial-gradient(12% 100% ellipse at 101% 50%, transparent 15px, transparent 25px, @bg_color 27px);
						}

						&.n {
							.fn_background(#facc6d);
						}
						&.d {
							.fn_background(#c8dff9);
						}
						&.r {
							.fn_background(#ff9e87);
						}

						>* {
							padding-right: 1em;
						}
					}
				}

				>.tab_label {
					flex: 1;
					height: 3rem;
					display: flex;
					justify-content: center;
					align-items: center;
					z-index: 1;

					@media screen and (max-width: @width_break_point_0) {
						height: initial;
					}
				}
			}

			// indexation_container
			>.indexation_container {

				// portal
				>.component_indexing_container {
					flex: 1;
					grid-area: unset;

					>.wrapper_component.component_portal {

						>.content_data {
							height: calc(37vh - 5rem);
						}
					}
				}

				// note
				>.indexation_note {

					>.wrapper_component.component_text_area {
						>.content_data {
							min-height: 15rem;
						}
					}

					>.empty_note {
						height: 100%;
						padding: 1.5rem;
						border: 1px solid #dddddd;
					}
				}
			}//end >.indexation_container

			// tab headers
			.tab_label {
				display: inline-block;
				margin: 0px;
				margin-left: -1px;
				font-weight: 600;
				text-align: center;
				color: #bbbbbb;
				border: 1px solid transparent;
				-webkit-user-select: none;
				-khtml-user-select: none;
				-moz-user-select: none;
				-o-user-select: none;
				user-select: none;
				top: 1px;
				position: relative;
				padding: 0.5rem;
				padding-left: 1.25rem;
				padding-right: 1.25rem;

				&:before {
					margin-right: 10px;
				}

				&:hover {
					color: #888888;
					cursor: pointer;
				}

				&.active {
					background-color: rgba(249, 249, 249, 0.65);
					background-color: @color_white;
					color: #555555;
					border: 1px solid #dddddd;
					border-top: 2px solid orange;
					border-bottom: 1px solid @color_white;
					margin-bottom: 0px;
					z-index: 2;
				}
			}

			// tab content
			.tab {
				display: none;
				width: 100%;
				height: 100%;

				&.active {
					display: table;
				}
			}
		}
	}//end content_data

	// split
	.gutter {
		background-color: @color_grey_mediumlight;
		background-repeat: no-repeat;
		background-position: 50%;
	}
	.gutter.gutter-horizontal {
		background-image: url('../img/grips/vertical.png');
		cursor: col-resize;
	}
	.gutter.gutter-vertical {
		background-image: url('../img/grips/horizontal.png');
		cursor: row-resize;
	}
}//end wrapper_tool
