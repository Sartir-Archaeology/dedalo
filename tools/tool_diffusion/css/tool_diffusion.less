/**
* TOOL_DIFFUSION
*
* Loaded on tool init
*/

// imports
@import (once) '../../../core/page/css/layout/vars';

// local vars
@tool_color : #8aa364;

// tool wrapper
// Encapsulate all tool content to prevent core collisions
.wrapper_tool.tool_diffusion {

	// custom colors
	--color_1: @tool_color;
	--color_2: #9c6dd3;
	--color_3: #6196c0;
	--color_4: #b36f7c;
	--color_5: #aaa50a;

	.spinner {
		border-top-color: @tool_color;
	}

	>.content_data {

		// section_info: section name and tipo information as 'Types --- numistata3'
		.section_info {
			display: flex;
			justify-content: space-between;

			.section_name {
				font-size: 1.5rem;
				padding: 1rem;
			}
			.section_tipo {
				font-size: 1.5rem;
				padding: 1rem;
				color: @color_grey_8;
				font-weight: 200;
			}
		}

		// diffusion_info_container: levels, info display button, info text JSON
		.diffusion_info_container {
			padding: 1rem;

			.resolve_levels_container {

				.note_about_levels {
					margin-left: 0.5rem;
				}

				input {
					text-align: center;
					background-color: @color_grey_15;
					width: 3rem;
					border: 1px solid @color_grey_13;
					border-radius: 3px;
					margin-left: 1rem;
					margin-right: 1rem;
					padding: 0.2rem;

					&.skip_publication_state_check_input {
						margin-right: 0.5rem;
						width: auto;
						margin-left: 3rem;
						vertical-align: text-bottom;
					}
				}
			}

			.button.info {
				float: right;
				height: 1.5rem;
				width: 1.5rem;
				top: -1rem;
				position: relative;
			}

			// info_div: JSON stringify info about diffusion domain config
			pre.info_div {
				width: 100%;
				margin-top: 1.5rem;
				border-radius: 3px;
			}

			// info_text: info about number of records to publish
			.info_text {
				padding: 2rem;
				padding-left: 0px;
				font-weight: 300;
				padding-bottom: 0;
				padding-top: 1.5rem;
				font-weight: 500;

				&::before {
					content: " ";
					display: inline-block;
					background-image: url(../img/icon.svg);
					background-repeat: no-repeat;
					width: 1rem;
					height: 1rem;
					margin-right: 0.5rem;
				}
			}
		}

		// publication_items. Every section_map generates a new one
		.publication_items {
			display: block;
			padding: 0.5rem;

			// publication_item_label. Change background color to easy differentiate labels
			>.publication_item_label {
				padding: 0.5rem;
				font-weight: 600;
				min-height: 2rem;
				background-color: @tool_color;
				color: @color_white;
				margin-top: 0.33rem;
				cursor: pointer;
				text-transform: uppercase;

				&:nth-of-type(1) {
					background-color: var(--color_1);
				}

				&:nth-of-type(3) {
					background-color: var(--color_2);
				}

				&:nth-of-type(5) {
					background-color: var(--color_3);
				}

				&:nth-of-type(7) {
					background-color: var(--color_4);
				}

				&:after {
					right: 0.25rem;
					background-color: @color_grey_14;
				}
			}

			>.publication_item_body {

				>.publication_items_grid {
			    	width: 100%;
					background-color: @color_grey_15;
					display: grid;
					gap: 0.75rem;
					align-content: space-between;
					grid-template-columns: 1fr 3fr;
					margin-bottom: 1rem;
					border: 1px solid @color_grey_13;
					padding: 1rem;
					z-index: 0;

					.label, .value {
						line-height: 1.3rem;
					}

					.label {
						opacity: 0.8;
					}

					.value {
						font-weight: bold;
						display: flex;
						align-items: center;

						&.fail {
							color: @color_danger;
						}
						&.success {
							color: @color_success;
						}

						&.light {
							font-weight: 100;
							font-family: monospace;
							font-size: 0.95rem;
							color: @color_grey_10;
						}
					}

					.value_info {
						margin-left: 1rem;
						font-weight: 300;
						font-size: 0.9rem;
						color: @color_grey_8;
					}

					.button.tree {
						zoom: 0.9;
						vertical-align: middle;
						margin-left: 0.5rem;
						background-color: @color_orange_dedalo;
					}

					.pre {
						z-index: 0;
					}

					.fields_grid_value.label {
						margin-left: 3rem;
					}

					.fields_grid_value.link {
						cursor: pointer;

						&:hover {
							color: darken(@tool_color, 50%);
							font-weight: 400;
						}

						&:active {
							opacity: 0.4;
						}
					}

					.value.link {
						padding: 0px;
						display: inline-block;

						&:after {
							right: unset;
							padding-left: 3rem;
							top: 0.25rem;
						}
					}

					.fields_grid_value_obs {
						line-height: 0.95rem;
						padding-left: 1.25rem;
						margin-left: 2rem;
						font-size: 80%;
						color: @color_grey_9;
					}

					.container_bottom {
						position: relative;
						grid-column: span 2;
						display: flex;
						flex-wrap: wrap;
						justify-content: center;
						padding: 0px;

						>.buttons_container {
							display: flex;
							align-items: center;

							// publication_button: default style
							.publication_button {
								margin: 1rem;
								background-color: @tool_color;
								border-color: darken(@tool_color, 5%);

								&.not_ready {
									opacity: 0.4;
								}
							}

							// additions
							.bottom_additions {
								margin-left: 1rem;

								>label {
									display: flex;
									align-items: center;
									cursor: pointer;

									>input {
										margin-right: 0.33rem;
									}
								}
							}
						}

						.response_message {
							padding: 1rem;
							width: 100%;
							overflow-wrap: break-word;
							line-height: 1.1rem;

							// button download RDF mainly
							>button {
								display: block;
								width: auto;
								margin: 1rem auto;
							}
						}

						.spinner {
							left: 48%;
						}
					}
				}

				&:nth-of-type(4) {
					>.publication_items_grid .container_bottom >.buttons_container >.publication_button {
						background-color: var(--color_2);
					}
				}

				&:nth-of-type(6) {
					>.publication_items_grid .container_bottom >.buttons_container >.publication_button {
						background-color: var(--color_3);
					}
				}

				&:nth-of-type(8) {
					>.publication_items_grid .container_bottom >.buttons_container >.publication_button {
						background-color: var(--color_4);
					}
				}

				&:nth-of-type(10) {
					>.publication_items_grid .container_bottom >.buttons_container >.publication_button {
						background-color: var(--color_5);
					}
				}
			}
		}
	}//end content_data
}//end wrapper_tool

// modal header tool modification
.tool_header.tool_diffusion {
	background-color: @tool_color;
}
