// Variables
@common_css: "../../common/css";

// Usage
@import "@{common_css}/library.less"; 


// selected_color 
@selected_color  : #ff9620; // @color_orange;	//
// Component color
@component_color : lighten(@selected_color, 25%);
// Component color hover
@component_color_hover : #ff9620;//darken(@selected_color, 15%);
// bg_color_global container
@bg_color_global : #efefef; //#F7F7F7;

@bg_component_color : #f6f6f6;
@bg_section_group_color: #969ca1;


// wrapper_search
	.wrapper_search {

		
	}


// max_group
	.max_group {		
		width: 50px;
		min-width: 50px;
		margin-bottom: 5px;
		margin-top: 5px;
		background-color: #ffffff;
		position: relative;
		border-radius: 4px;
		display: block;
		// border: 1px solid #e6e6e6;
		overflow: hidden;
		margin-right: 0px;
	
		.max_input_label {
			display: block;
			width: 100%;
			text-align: center;
			padding: 3px;
			position: absolute;
		}

		input.max_input {
			border: none;
			width: 100%;
			height:100%;
			cursor: default;
			text-align: center;
			font-size: 1.2em;
		}
	}
		
// button_save_preset
	.button_save_preset {
		display: none;
	}


	// Button open first list
	.button_open_search {
		//margin-bottom: 5px;
		margin-top: 2px;
		text-transform: capitalize;
		letter-spacing: 0.03em;
		border-color: #bbbbbb;
		background-color: rgba(239,239,239,0.7);
	}
	.search_global_container {
		display: flex;
		flex-wrap: wrap;
		background-color: fade(@bg_color_global, 70%);
		//background-color: rgba(239, 239, 239, 0.71);
		border-radius: 5px;
		padding: 10px;
		position: relative;
		width: 100%;
		}
		// Root Target container
		.search_container_selector {
			//display: flex;
			display: none;
		}
		// Selection (drag)
		.search_container_selection {
			flex-grow: 1;
			//background-color: #d0e2f5;
			position: relative;
			padding-top: 0;
		}
		// Presets
		.search_container_selection_presets {
			background-color: rgba(201,201,201,0.3);
			width: 160px;
			min-width: 140px;
			display: none;
		}

		// Button toggle container_selector (list of fields) and Button toggle presets
		@color_background_selector : #b9b9b9;
		.toggle_container_selector, .toggle_container_selection_presets {
			background-color: @color_background_selector;
			writing-mode: vertical-lr;
			width: 24px;
			text-transform: uppercase;
			cursor: pointer;
			color: #f0f8ff;
			padding: 3px;
			padding-left: 3px;
			padding-top: 7px;
			letter-spacing: 1px;
			}
			.toggle_container_selector:active, .toggle_container_selection_presets:active {
				opacity: 0.7
			}
		// Button toggle container_selector
		.toggle_container_selector {
			
		}
		
		// Button toggle presets
		.toggle_container_selection_presets {
			
		}	


	// Standard section container (receive all json elements inside)
	.search_section_container {
		//background-color: #88D6E4;
		width: fit-content;
		//border-right: 1px solid #ffffff;
		}
	// Target section container (receive all json elements inside recursive)
	.search_section_container.target_container {
		display: flex;
		background-color: rgba(201,201,201,0.3);
	}
	
		// Section label bar
		.search_section_bar_label {
			font-family: "Oxygen-light";
			padding: 3px;
			padding-left: 4px;
			padding-right: 4px;
			border-right: 1px solid #a5a5a5;
			//background-color: @bg_color_global;  
			background-color: #575a5c;;
			color: #ffffff;
			// Avoid click events affect here (received with :after)
			pointer-events: none;
			}
			.target_container > .search_section_container > .search_section_bar_label::after {
				content: "X";
				display: block;
				// background-color: #a0a0a0; 
				float: right;
				width: 15px;
				text-align: center;
				border-radius: 50%;
				line-height: 15px;
				position: relative;
				top: 2px;
				cursor: pointer;
				// Allow receive here the click button of real dom element
				pointer-events: all;
			}
		

		// Items list generic
		.search_section_container ul {
			position: relative;	
			min-width: 140px;
			}
			.search_section_container ul li {
				padding: 4px;
				padding-right: 22px;
				border-right: 1px solid #a5a5a5;
				-moz-user-select: none;
			-khtml-user-select: none;
			-webkit-user-select: none;
			user-select: none;	
			}

		// Items list section_group
		li.search_section_group_label {
			background-color: @bg_section_group_color; //#575A5C;
			color: #ffffff;
		}
		// Items list components
		li.search_component_label {
			background-color: @bg_component_color;
			//background-color: rgba(251, 251, 251, 0.48);
			border-bottom: 0.5px solid #666;			
			}
			li.search_component_label:hover {
				background-color: @component_color_hover;
				color: #ffffff;
			}
			li.search_component_label:active {
				//background-color: initial;
				//color: initial;
				opacity: 0.6;
			}

		// has_subquery
		li.search_component_label.has_subquery {
			//background-color: #A71B0C
			cursor: pointer;
			background-position: right 17px bottom 7px;
			}
			// Flecha
			li.search_component_label.has_subquery::after {
				content: " ";
				display: inline-block;
				width: 6px;
				height: 10px;
				border-bottom: 5px solid transparent;
				border-top: 5px solid transparent;
				border-left: 5px solid #000;
				pointer-events: none;
				position: absolute;
				right: 8px;
				margin-top: 3px;
			}
			
			li.search_component_label.has_subquery:active {
			}
			li.search_component_label.has_subquery.active {
				background-color: @selected_color !important;
				//font-weight: bold;
				border-right: 1px solid @selected_color;
				color: #ffffff;
			}
			li.search_component_label.has_subquery.active::after {
				border-left: 5px solid #ffffff;
			}
		
		// Draggable backgroud svg
		.element_draggable {
			/*
			cursor: move;
			background: url('../../themes/default/draggable.svg');
			background-color: rgba(0, 0, 0, 0);
			background-repeat: repeat;
			background-position-x: 0%;
			background-position-y: 0%;
			background-size: auto auto;
			background-color: rgba(0,0,0,0);
			background-repeat: repeat;
			background-position-x: 0;
			background-position-y: 0;
			background-size: auto auto;
			background-position: right 5px bottom 7px;
			background-repeat: no-repeat;
			background-size: 12px;
			*/
		}

		// Prevent the text contents of draggable elements from being selectable. 
			.search_global_container[draggable] {
			  -moz-user-select: none;
			  -khtml-user-select: none;
			  -webkit-user-select: none;
			  user-select: none;
			  /* Required to make elements draggable in old WebKit */
			  -khtml-user-drag: element;
			  -webkit-user-drag: element;
			}


		/* search_container_selection
		---------------------------------------------------------- */
			.search_container_selection {

				}
				.search_group_container {
					display: flex;
					//position: relative;
					position: -webkit-sticky;
					position: -moz-sticky;
					position: sticky;
					top: 60px;
				}
				.search_group {					
					border: 0.5px solid #b9b9b9;
					padding: 5px;
					padding-right: 24px;
					padding-left: 28px;
					//margin: 10px;
					//margin-top: 0;
					//margin-bottom: 0;
					margin: 2px;
					min-height: 66px;
					min-width: 165px;
					background-color: rgba(255, 255, 255, 0.5);
					resize: both;
					overflow: -webkit-paged-x;					
					position: relative;
					display: flex;
					flex-grow: 2;
					flex-wrap: wrap;									
					}
					.search_group > .operator {
						//background-color: #9cd950;
						//float: left;
						color: #fcf4ff;
						//margin: -5px;
						//margin-right: 5px;
						margin-left: -10px;
						padding: 4px;
						border-right: 1px solid rgba(123, 150, 177, 0.45);
						text-align: center;
						max-width: 32px;
						//writing-mode: vertical-rl;
						writing-mode: vertical-lr;
						//text-orientation: upright;
						width: 24px;
						text-transform: uppercase;
						cursor: pointer;
						user-select: none;
						-moz-user-select: none;
						-webkit-user-select: none;
						letter-spacing: 1px;

						height: 100%;
						position: absolute;
						left: 0;
						top: 0;	
						margin: 0;
						opacity: 0.6;				
					}
					.search_group > .operator:hover {
						opacity: 0.7;
					}
					.search_group > .operator.and {
						background-color: #3FB630
					}
					.search_group > .operator.or {
						background-color: #3379b8;
					}
				.root_search_group {
					margin: 0;
					margin-left: 5px;
					margin-right: 5px;
					justify-content: flex-start;
					border-radius: 2px;
				}
				.search_group > .button_plus {
					z-index: 9;
					background-color: #1fdcc9;
					position: absolute;
					right: 5px;
					top: 25px;
					width: 16px;
					height: 16px;
					background-color: #6d6d6d;
					cursor: pointer;
					text-align: center;
					border-radius: 8px;
					color: aliceblue;
					}
					.search_group > .button_plus:after{
						content: "+"

					}
				.search_group#root_search_group > .button_plus {
						top: 5px;
					}


			/* search_component
			-------------------------- */
			.search_container_selection .search_component {
				//background-color: lighten(@component_color, 10%); 
				background-color: rgba(251, 251, 251, 0.48);
				display: flex;
				flex-direction: row-reverse;
				position: relative;
				// Add
				margin: 2px;
				border: 1px solid #e6e6e6;
				// Experimental all same width
				// width: 300px;
				flex-basis: 32%;				
				min-height: 55px;
				border-radius: 2px;
				}
				/*
				.search_component > .operator {
					background-color: #77c9c2;
					color: #fcf4ff;
					margin: 0;
					padding: 4px;
					text-align: center;					
					//transform: rotate(90deg);
					//transform-origin: top left;
					//height: 20px;
					//position: relative;
					//right: -20px;
					writing-mode: vertical-rl;
					//text-orientation: upright;
					width: 24px;
				}*/
				.search_component > .button_close {
					//position: absolute;
					//margin-right: 4px;
					//cursor: pointer;
					z-index: 9;
					}
					.search_component > .button_close:active {
						opacity: 0.5
					}

				.search_component > .wrap_component > .css_label {
					width: 100%;
					max-width: initial;
				}
				.search_component > .wrap_component > .content_data {
					width: 100%;
				}
				.search_component > .wrap_component > .content_data input[type=text] {
					width: 100%;
				}

				// Last component
				.search_group > .search_component:last-of-type {
					margin-right: 10px !important;
				}
				/*
				.search_group > .search_component:last-of-type:not(:nth-child(1)) .button_close { // > .button_close
					right: 20px;
					//background-color: #000000 !important;
					//opacity: 0.7
				}*/


			/* buttons
			--------------------------- */
			.button_reset {
				margin: 5px;
				margin-right: 0;
				display: block;
				flex-grow: 1;
			}
			.button_submit {
				margin: 5px;
				margin-right: 0;
				margin-right: 7px;
			}
			.reset_group{
				display: flex;
				 flex-direction: column;
			}



		/* search presets
		-------------------------- */
			.search_new_presets {
			//background-color: #DEE0DE;
			}
			.search_new_presets label,
			.search_new_presets .content_data,
			.search_new_presets .css_input_text_search {
				max-width: 100%;
				width: 100%;
			}
			.component_presets_label {
				background-color: #575a5c;
				color: #ffffff;
				text-align: center;
				padding: 4px;
				}
				.component_presets_label mark {
					color: #ffffff;
					background-color: initial;
					opacity: initial;
				}
				.component_presets_label > .button_plus {
					z-index: 9;
					float: right;
					width: 15px;
					height: 15px;
					cursor: pointer;
					text-align: center;
					border-radius: 7px;
					color: #565a5c;
					background-color: #f3f3f3;
					font-size: 12px;
					line-height: 15px;
					padding: 0;
					font-family: sans-serif;
					}
					/*
					.component_presets_label > .button_plus:after {
						//content: "+"
						//content: attr(data-value);
					}*/
			ul.component_presets_list {
				clear: both;
				}
				ul.component_presets_list > li {
					line-height: 2em;
					border-bottom: 1px solid #dbdbdb;
					padding: 5px;					
					padding-bottom: 1px;
					padding-top: 1px;
					position: relative;
					//display: flex;					
				}
				ul.component_presets_list > li.selected {
					//font-weight: bold !important;
					color: #000000;
					font-family: "Oxygen-bold";					
				}
				.component_presets_button_load, .component_presets_button_options, .component_presets_button_delete {
					position: absolute;
					opacity: .3;
					//vertical-align: sub;
					transform-origin: bottom;
					//-webkit-transform-origin: bottom;
				}
				.component_presets_button_load {
					//background-position: -432px 0; // options
					//background-position: -192px -72px; // step backward
					background-position: -432px -72px;
					transform: scale(1.21);
					//-moz-transform: scale(1.21);				    
					top: 6px;
					left: 2px;
				}/*
				.component_presets_button_options {
					background-position: -432px 0; // options											
					zoom: 121%;
					-moz-transform: scale(1.21);
					margin-right: 3px;
				}*/				
				.component_presets_button_delete {
					background-position: -456px 0;														
					margin-left: 5px;					
					right: 5px;
					top: 5px;
				}
				span.css_span_dato {
					// cursor: pointer;
					// padding: 2px;
					// padding-left: 15px;
				}
				


			/* div_edit
			----------------------------------------- */
				.div_edit {
					background-color: #cfcfcf;
					display: flex;
					flex-flow: column;
					border-radius: 2px;	
					//width: 100%;			
					}
					
					.div_edit .css_label {
						width: 100% !important;
						max-width: 100% !important;
					}
					.div_edit > .wrap_component .content_data {
						width: 100%;
					}
					.div_edit > .wrap_component .label {
						color: #f7f7f7;
					}
					.div_edit > .wrap_component .label mark {
						color: #f7f7f7 !important;
					}
					.div_edit > .wrap_component:last-of-type {
						padding-bottom: 10px;
					}
					.div_edit > .selected_wrap {
						background: initial !important;
					}

			/* new_preset_div
			----------------------------------------- */
			.new_preset_div {
					background-color: #565a5c;
					color: #d2d2d2;
					border-radius: 0;
					}
					.new_preset_div .wrap_component {
						padding: 5px;
					}
					.new_preset_div > .btn {
						margin: 10px;
					}


			/* button_save_preset
			----------------------------------------- */
				.button_save_preset {
					display: none;
					margin: 0;
					position: absolute;
					top: -35px;
					left: 105px;
					}
					.button_save_preset.show {
						//display: table;
					}
				.button_save_preset.in_thesaurus {
					top: -100px;
				}


	/* SEARCH_OPTIONS_TITLE
	----------------------------------------- */
		.search_options_title_item {
			
			> span {
				display: inline-block;
				min-width: 38px;
			}
		}
			


// thesaurus_search_selector
	.thesaurus_search_selector {
		//display:inline-block;
		//margin-left:20px;
		//background-color:antiquewhite;
		margin-top: 7px;
		width: 100%;
	
		> ul {
			display: flex;
			flex-flow: wrap;
			justify-content: flex-start;

			> li {
				padding-right: 10px;
				//background-color: #D4DF93;
				padding:5px;
				white-space: nowrap;
				cursor: pointer;

				> input {
					//margin-right: 5px;
					cursor: pointer;
				}

				> label {
					margin-left: 3px;
					cursor: pointer;
				}
			}
		}
	}
		
		
