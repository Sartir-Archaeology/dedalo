<?php

	# VISUALIZADOR HTML

	# ELEMENTOS


	print "\n<!-- DATE [tipo:$tipo section_id_matrix:$parent] $label -->";

	print "\n<div class=\"wrap_component css_wrap_date wrap_component_{$tipo}\" id=\"{$id_wrapper}\"
	data-tipo=\"{$tipo}\"
	data-lang=\"{$lang}\"
	data-section_tipo=\"{$section_tipo}\"
	data-parent=\"{$parent}\"
	data-modo=\"{$modo}\"
	data-dato='{$dato_json}'
	data-component_name=\"{$component_name}\"
	data-component_info='{$component_info}'
	>";


		# ETIQUETA (LABEL)
		$html_label = component_common_draw::draw_label($this);

		# CONTENIDO (INPUT)
		$html_contenido = '';
		switch($permissions) {

			case 0	:	$html_contenido .= "";
						break;

			case 1	: 	$html_contenido .= "\n <span class=\"css_span_dato\">$valor</span>";
						break;

			case ($permissions>=2) :

						$add_class='';
						if ( !empty($propiedades) &&
							 isset($propiedades->method->get_valor_local) &&
							 reset($propiedades->method->get_valor_local)==true
							) $add_class = 'full';

						$html_contenido .= "\n <input type=\"text\" class=\"css_date full $add_class\" id=\"{$identificador_unico}\"
						name=\"{$input_name}\"
						data-tipo=\"{$tipo}\"
						data-section_tipo=\"{$section_tipo}\"
						data-parent=\"{$parent}\"
						data-lang=\"{$lang}\"
						value=\"{$valor}\"
						title=\"$html_title\"
						placeholder=\"Format $ejemplo\"
						onclick=\"component_date.activate_datepicker(this)\"
						onchange=\"component_date.Save(this)\"
						onfocus=\"component_common.select_wrap(null,'$id_wrapper');\"
						tabindex=\"1\"
						/>";

						#$html_contenido .= " <span class=\"css_span_ejemplo\">Format $ejemplo </span>";


						#$html_contenido .= "\n <span  class=\"css_span_ejemplo\">$ejemplo</span>";

						# Save handler js
						#$html_contenido .= "<script>$('#$identificador_unico').on(\"change\",function(){component_date.Save(this);})</script>";

						if(SHOW_DEBUG) {
							$html_contenido .= "\n <span class=\"current_date_info\">Current date: <span>$dato_json</span></span>";
							#$html_contenido .= "\n <span class=\"css_span_debugger\" id=\"debugger_{$tipo}\" >{$debugger}</span>";
						}
						break;
		}



		# Prepare content to show in page
		tools::prepare_content($html_contenido);


		# PRINT HTML
		print $html_label;
		print $html_contenido;


	print "\n</div><!-- /css_wrap_date DATE [tipo:$tipo section_id_matrix:$parent] $label -->\n"; //wrap


?>
